<!-- Snowpack stability slider -->
<div class="form-group">
  <label class="form-label" for="textarea-input">{{ "matrix.label.snowpackStability" | translate }}</label>
  <ngx-slider
    class="snowpack-stability-slider"
    [(value)]="matrixInformation.snowpackStabilityValue"
    [options]="snowpackStabilityOptions"
    (userChange)="onSnowpackStabilityValueChange($event)"
  ></ngx-slider>
</div>
<!-- End of Snowpack stabiliy slider -->
<!-- Frequency slider -->
<div class="form-group">
  <label class="form-label" for="textarea-input">{{ "matrix.label.frequency" | translate }}</label>
  <ngx-slider
    class="frequency-slider"
    [(value)]="matrixInformation.frequencyValue"
    [options]="frequencyOptions"
    (userChange)="onFrequencyValueChange($event)"
  ></ngx-slider>
</div>
<!-- End of frequency slider -->
<!-- Avalanche size slider -->
<div class="form-group">
  <label class="form-label" for="textarea-input">{{ "matrix.label.avalancheSize" | translate }}</label>
  <ngx-slider
    class="avalanche-size-slider"
    [(value)]="matrixInformation.avalancheSizeValue"
    [options]="avalancheSizeOptions"
    (userChange)="onAvalancheSizeValueChange($event)"
  ></ngx-slider>
</div>
<!-- End of avalanche sizeslider-->

<div class="form-group">
  <label class="form-label" for="textarea-input">{{ "matrix.label.dangerRating" | translate }}</label>

  <div class="avalanche-problem-detail__override">
    <!-- danger rating -->
    <img *ngIf="!dangerRatingEnabled && isDangerRating('missing')" src="./assets/img/danger_rating_missing.svg" />
    <img
      *ngIf="dangerRatingEnabled && !isDangerRating('low')"
      src="./assets/img/danger_rating_low_bw.svg"
      (click)="overrideDangerRating($event, 'low')"
    />
    <img
      *ngIf="isDangerRating('low')"
      src="./assets/img/danger_rating_low_c.svg"
      (click)="overrideDangerRating($event, 'low')"
    />
    <img
      *ngIf="dangerRatingEnabled && !isDangerRating('moderate')"
      src="./assets/img/danger_rating_moderate_bw.svg"
      (click)="overrideDangerRating($event, 'moderate')"
    />
    <img
      *ngIf="isDangerRating('moderate')"
      src="./assets/img/danger_rating_moderate_c.svg"
      (click)="overrideDangerRating($event, 'moderate')"
    />
    <img
      *ngIf="dangerRatingEnabled && !isDangerRating('considerable')"
      src="./assets/img/danger_rating_considerable_bw.svg"
      (click)="overrideDangerRating($event, 'considerable')"
    />
    <img
      *ngIf="isDangerRating('considerable')"
      src="./assets/img/danger_rating_considerable_c.svg"
      (click)="overrideDangerRating($event, 'considerable')"
    />
    <img
      *ngIf="dangerRatingEnabled && !isDangerRating('high')"
      src="./assets/img/danger_rating_high_bw.svg"
      (click)="overrideDangerRating($event, 'high')"
    />
    <img
      *ngIf="isDangerRating('high')"
      src="./assets/img/danger_rating_high_c.svg"
      (click)="overrideDangerRating($event, 'high')"
    />
    <img
      *ngIf="dangerRatingEnabled && !isDangerRating('very_high')"
      src="./assets/img/danger_rating_very_high_bw.svg"
      (click)="overrideDangerRating($event, 'very_high')"
    />
    <img
      *ngIf="isDangerRating('very_high')"
      src="./assets/img/danger_rating_very_high_c.svg"
      (click)="overrideDangerRating($event, 'very_high')"
    />
  </div>

  <div class="btn-group">
    <button
      *ngIf="isDangerRatingModificator('minus')"
      [disabled]="
        disabled ||
        !matrixInformation ||
        !matrixInformation.snowpackStability ||
        !matrixInformation.frequency ||
        !matrixInformation.avalancheSize
      "
      type="reset"
      class="btn btn-sm btn-outline-secondary btn-icon"
      (click)="setDangerRatingModificator($event, undefined)"
    >
      <i class="ph ph-minus"></i>
    </button>
    <button
      *ngIf="!isDangerRatingModificator('minus')"
      [disabled]="
        disabled ||
        !matrixInformation ||
        !matrixInformation.snowpackStability ||
        !matrixInformation.frequency ||
        !matrixInformation.avalancheSize
      "
      type="reset"
      class="btn btn-sm btn-outline-secondary btn-icon"
      (click)="setDangerRatingModificator($event, 'minus')"
    >
      <i class="ph ph-minus"></i>
    </button>

    <button
      *ngIf="isDangerRatingModificator('equal')"
      [disabled]="
        disabled ||
        !matrixInformation ||
        !matrixInformation.snowpackStability ||
        !matrixInformation.frequency ||
        !matrixInformation.avalancheSize
      "
      type="reset"
      class="btn btn-sm btn-dark btn-icon"
      (click)="setDangerRatingModificator($event, undefined)"
    >
      <i class="ph ph-equals"></i>
    </button>
    <button
      *ngIf="!isDangerRatingModificator('equal')"
      [disabled]="
        disabled ||
        !matrixInformation ||
        !matrixInformation.snowpackStability ||
        !matrixInformation.frequency ||
        !matrixInformation.avalancheSize
      "
      type="reset"
      class="btn btn-sm btn-outline-secondary btn-icon"
      (click)="setDangerRatingModificator($event, 'equal')"
    >
      <i class="ph ph-equals"></i>
    </button>

    <button
      *ngIf="isDangerRatingModificator('plus')"
      [disabled]="
        disabled ||
        !matrixInformation ||
        !matrixInformation.snowpackStability ||
        !matrixInformation.frequency ||
        !matrixInformation.avalancheSize
      "
      type="reset"
      class="btn btn-sm btn-dark btn-icon"
      (click)="setDangerRatingModificator($event, undefined)"
    >
      <i class="ph ph-plus"></i>
    </button>
    <button
      *ngIf="!isDangerRatingModificator('plus')"
      [disabled]="
        disabled ||
        !matrixInformation ||
        !matrixInformation.snowpackStability ||
        !matrixInformation.frequency ||
        !matrixInformation.avalancheSize
      "
      type="reset"
      class="btn btn-sm btn-outline-secondary btn-icon"
      (click)="setDangerRatingModificator($event, 'plus')"
    >
      <i class="ph ph-plus"></i>
    </button>
    <div *ngIf="!disabled" class="form-check ml-3">
      <input
        type="checkbox"
        class="form-check-input"
        [disabled]="
          disabled ||
          !matrixInformation ||
          !matrixInformation.snowpackStability ||
          !matrixInformation.frequency ||
          !matrixInformation.avalancheSize
        "
        [ngModel]="dangerRatingEnabled"
        (click)="setDangerRatingEnabled(event)"
      />

      <label *ngIf="!disabled" class="form-label" for="textarea-input">{{ "matrix.label.override" | translate }}</label>
    </div>
  </div>
</div>
