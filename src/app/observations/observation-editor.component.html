<div *ngIf="observation" class="p-fluid p-formgrid p-grid">
  <div class="p-field p-col-12 p-md-6">
    <label for="eventType"><i class="ph ph-square"></i> {{ "observations.eventType" | translate }}</label>
    <p-dropdown
      inputId="eventType"
      [options]="eventTypes"
      [(ngModel)]="observation.eventType"
      [showTransitionOptions]="'0ms'"
      [hideTransitionOptions]="'0ms'"
    ></p-dropdown>
  </div>
  <div class="p-field p-col-12 p-md-6">
    <label for="eventDate"><i class="ph ph-calendar"></i> {{ "observations.eventDate" | translate }}</label>
    <div id="eventDate" pInputText>
      <input
        type="date"
        required
        (change)="setEventDate($event)"
        [ngModel]="getDate(observation.eventDate)"
        class="date"
      />
      <input
        type="time"
        required
        (change)="setEventTime($event)"
        [ngModel]="getTime(observation.eventDate)"
        class="time"
      />
    </div>
    <!-- <input id="eventDate" required [ngModel]="getEventDate()" (ngModelChange)="setEventDate($event)" type="datetime-local" pInputText /> -->
  </div>
  <div class="flex-break"></div>
  <div class="p-field p-col-12">
    <label for="locationName"><i class="ph ph-globe"></i> {{ "observations.locationName" | translate }}</label>
    <p-autoComplete
      id="locationName"
      required
      [(ngModel)]="observation.locationName"
      (completeMethod)="searchLocation($event)"
      [suggestions]="locationResults"
      (onSelect)="selectLocation($event)"
    >
      <ng-template let-feature pTemplate="item">{{ feature.properties.display_name }}</ng-template>
    </p-autoComplete>
  </div>
  <div class="flex-break"></div>
  <div class="p-field p-col-12 p-md-4">
    <label for="latitude"><i class="ph ph-map-pin"></i> {{ "observations.latitude" | translate }}</label>
    <input
      id="latitude"
      (change)="setLatitude($event)"
      [ngModel]="observation.latitude"
      type="number"
      step="0.0000001"
      pInputText
    />
  </div>
  <div class="p-field p-col-12 p-md-4">
    <label for="longitude"><i class="ph ph-map-pin"></i> {{ "observations.longitude" | translate }}</label>
    <input
      id="longitude"
      (change)="setLongitude($event)"
      [ngModel]="observation.longitude"
      type="number"
      step="0.0000001"
      pInputText
    />
  </div>
  <div class="p-field p-col-1 p-col-sm-3 copy-icon-wrapper">
    <button class="p-element p-button p-component" type="button" (click)="copyLatLng()">
      <i class="ph ph-copy"></i>
    </button>
  </div>
  <div class="p-field p-col-12 p-col-md-3">
    <label for="elevation"
      ><i class="ph ph-arrows-out-line-vertical"></i> {{ "observations.elevation" | translate }}</label
    >
    <input id="elevation" [(ngModel)]="observation.elevation" type="number" step="1" pInputText />
  </div>
  <div class="flex-break"></div>
  <div class="p-field p-col-12 p-md-6">
    <label for="authorName"><i class="ph ph-user"></i> {{ "observations.authorName" | translate }}</label>
    <input id="authorName" required [(ngModel)]="observation.authorName" type="text" pInputText />
  </div>
  <div class="p-field p-col-12 p-md-6">
    <label for="reportDate"><i class="ph ph-pencil"></i> {{ "observations.reportDate" | translate }}</label>
    <div id="reportDate" pInputText>
      <input
        type="date"
        required
        (change)="setReportDate($event)"
        [ngModel]="getDate(observation.reportDate)"
        class="date"
      />
      <input
        type="time"
        required
        (change)="setReportTime($event)"
        [ngModel]="getTime(observation.reportDate)"
        class="time"
      />
    </div>
  </div>
  <div class="flex-break"></div>
  <div class="p-field p-col-12">
    <label for="content"><i class="ph ph-chat"></i> {{ "observations.content" | translate }}</label>
    <textarea
      id="content"
      required
      [(ngModel)]="observation.content"
      (paste)="parseContent($event)"
      type="text"
      rows="8"
      pInputTextarea
    ></textarea>
  </div>
</div>
